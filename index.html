<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=0" name="viewport">
    <title>Assistant</title>
    <link href="/static/images/icon.png" rel="icon" sizes="96x96" type="image/png">
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700%7CProduct+Sans:400">
</head>

<body>
    <section>
        <div class="header">
            <img decoding="async" src="/static/images/pixel-terra.png" width="300px" height="364px">

            <h1 class="title">Terra Horóscopo
                <span>No Google Assistant</span></h1>
        </div>
    </section>
    <section>
        <h2 class="wow">Conheça</h2>
        <p>O Terra está presente no Google Assistant com seu app de horóscopo, o <a href="https://assistant.google.com/services/a/uid/000000fec05c0310?hl=pt-BR">Terra Horóscopo</a>.</p>
        <img decoding="async" src="/static/images/mi-angle.png" width="800px" height="372px" id="mi-angle">
    </section>
    <section id="conversation">
        <div>
            <div id="phone">
                    <div class="screen">
                        <div class="dialog dialog-bot">
                            <div class="icon"></div>
                            <div class="bubble">Hey, você voltou! Se bem me lembro seu signo é Gêmeos. Quer ver a previsão do horóscopo de hoje?</div>
                        </div>

                        <div class="dialog dialog-user sec-1">
                            <div class="bubble">Olá</div>
                        </div>

                        <div class="dialog dialog-bot sec-2">
                            <div class="icon"></div>
                            <div class="bubble">Humm, não entendi.</div>
                        </div>
                    </div>
                </div>
        </div>
        <div class="text">
            <h2 class="wow">Fale com o Terra Horóscopo</h2>
            <p class="call">Saiba as previsões do seu signo!</p>
            <ul class="features">
                <li>Diário</li>
                <li>Semanal</li>
                <li>Do Amor</li>
            </ul>
        </div>
    </section>
    <section>
        <div class="text">
            <h2 class="wow">Ele se lembra de você</h2>
            <p class="call">Volte quando quiser e já não perguntamos seu signo de novo…</p>
        </div>
    </section>
    <section>
        <div class="text">
            <h2 class="wow">Muito mais no Terra</h2>
            <p class="call">Aproveite e conheça o site do Terra!</p>
        </div>
    </section>

    <footer> </footer>

    <script>
        (function () {
            var body = window.document.body
            var sections = document.querySelectorAll('body>section')

            function isElementInViewport(el) {
                var rect = el.getBoundingClientRect()

                //var viewportTop = body.scrollTop
                //var viewportBottom = body.scrollTop + window.innerHeight

                //(window.innerHeight - rect.top) - (body.scrollTop + window.innerHeight)
                var v = ((body.scrollTop + window.innerHeight) - (window.innerHeight - rect.top)) / rect.height

                var v_t = (window.innerHeight - rect.top)
                var v_b = (window.innerHeight - rect.bottom)
                //console.log(v_t, v_b)
                //console.log('----------------')
                console.log(v)
                return v > 1

                //return (
                //    rect.top >= 0 &&
                //    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
                //)
            }

            var handleScroll = function () {
                var t = body.scrollTop / (body.scrollHeight - window.innerHeight)


                var i = 0//sections.length
                //while (i--) {
                  //  console.log('>>>>', i)
                    if (isElementInViewport(sections[i])) {
                        sections[i].classList = 'animated'
                    } else {
                        sections[i].classList = []
                    }
                //}
                // box.style.animationDelay = -t + 's';
                // console.log(t);
            }
            window.addEventListener('scroll', handleScroll, false)
        }())

    </script>
</body>
</html>